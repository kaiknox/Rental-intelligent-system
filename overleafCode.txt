\documentclass[12pt, a4paper]{article}
\usepackage[spanish]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{hyperref}
\usepackage{geometry}
\usepackage{amsmath}
\usepackage{booktabs}
\usepackage{caption}
\usepackage{subcaption}

\geometry{margin=2.5cm}

\definecolor{codebg}{rgb}{0.95,0.95,0.95}
\lstset{
    backgroundcolor=\color{codebg},
    basicstyle=\ttfamily\small,
    breaklines=true,
    frame=single,
    captionpos=b,
    showstringspaces=false
}

\title{Práctica de Sistemas Basados en el Conocimiento \\ Recomendación de Viviendas en Alquiler}
\author{Grupo XX \\ Iván Alcubierre, Kai Knox y Kirian Roca}
\date{\today}

\begin{document}

\maketitle

% ============================
% PRIMERA PARTE: PLANTEAMIENTO DEL PROBLEMA
% ============================
\section{Introducción y planteamiento del problema}
\label{sec:intro}

\subsection{Estructura del documento}
Este documento se organiza en tres partes principales, siguiendo las directrices de la rúbrica de evaluación:

\begin{itemize}
    \item \textbf{Parte 1 (Introducción)}: Planteamiento del problema, objetivos y metodología.
    \item \textbf{Parte 2 (Desarrollo)}: Conceptualización, formalización (ontología) e implementación en CLIPS.
    \item \textbf{Parte 3 (Resultados)}: Casos de prueba, análisis de resultados, conclusiones y trabajo en equipo.
\end{itemize}

\subsection{Contexto y motivación}
La práctica plantea el desarrollo de un sistema de recomendación de viviendas en alquiler que pueda ser utilizado por una entidad pública para ayudar a los ciudadanos a encontrar ofertas adecuadas a sus necesidades. 

El problema implica combinar dos tipos de información:
\begin{itemize}
    \item \textbf{Características de las viviendas}: precio, superficie, tipo de propiedad, amenities, ubicación, etc.
    \item \textbf{Perfil y preferencias del usuario}: presupuesto, composición familiar, necesidades de proximidad a servicios, restricciones, etc.
\end{itemize}

La complejidad del dominio y la necesidad de aplicar conocimiento experto para ponderar múltiples factores convierten este problema en un caso idóneo para un Sistema Basado en el Conocimiento (SBC).

\subsection{Objetivos de la práctica}
El objetivo principal de esta práctica es diseñar e implementar un \textbf{Sistema Basado en el Conocimiento (SBC)} que emule el razonamiento de un experto inmobiliario para recomendar viviendas en alquiler. Los objetivos específicos son:

\begin{itemize}
    \item Analizar el dominio del problema e identificar las fuentes de conocimiento necesarias.
    \item Construir una ontología formal que represente los conceptos clave: \textbf{viviendas}, \textbf{solicitantes}, \textbf{servicios urbanos} y \textbf{zonas de la ciudad}.
    \item Implementar en CLIPS un sistema de reglas que realice:
    \begin{itemize}
        \item Evaluación de compatibilidad entre perfil del solicitante y características de la vivienda.
        \item Cálculo de proximidad a servicios relevantes (transporte, educación, ocio, salud, etc.).
        \item Clasificación de las recomendaciones en tres categorías: \textit{parcialmente adecuada}, \textit{adecuada} y \textit{muy recomendable}.
    \end{itemize}
    \item Validar el sistema mediante casos de prueba representativos y documentar el proceso de desarrollo siguiendo la metodología de ingeniería del conocimiento.
\end{itemize}

\subsection{Metodología de desarrollo}
Para abordar este problema, se ha seguido la metodología de \textbf{Ingeniería del Conocimiento} explicada en clase, estructurada en las siguientes fases:

\begin{enumerate}
    \item \textbf{Identificación}: Análisis del enunciado, definición de objetivos y alcance.
    \item \textbf{Conceptualización}: Extracción y organización del conocimiento experto, identificación de conceptos y relaciones.
    \item \textbf{Formalización}: Construcción de la ontología en Protégé y diseño de la estrategia de razonamiento.
    \item \textbf{Implementación}: Codificación en CLIPS del sistema de reglas y hechos.
    \item \textbf{Prueba}: Validación mediante casos de prueba y análisis de resultados.
\end{enumerate}

% ============================
% SEGUNDA PARTE: DESARROLLO Y ELABORACIÓN DE LA SOLUCIÓN
% ============================
\section{Desarrollo de la solución}
\label{sec:desarrollo}

\subsection{Conceptualización}
\label{subsec:conceptualizacion}

\subsubsection{Extracción de conocimiento}
\textbf{Entrevista con experto IA (Gemini 3.0)}\\\\
%
    \textbf{Interviewer:} "We are going to do a role playing exercise. You are going to help a knowledge engineer perform knowledge elicitation for building a rule-based expert system for the recommendation of home rentals. You are a real estate agent with wide experience in this problem who knows how to match different kinds of people (families with or without children, students, single people, elderly) according to the characteristics of the home and its neighborhood. The knowledge engineer is going to ask about the characteristics, criteria, and knowledge that you use for making the decisions. Your answer should be direct and precise. The answers should be helpful for building rules for making decisions from the answers of people who are looking to rent a flat or a house."
% Contexto
	\textbf{Expert:} To build a robust recommendation system, we must classify clients into four specific archetypes, each with distinct priorities:
\begin{itemize}
\item \textbf{Elderly:} Their non-negotiable priority is Accessibility. If a property is not on the ground floor, it must have an elevator. They require essential services (Pharmacy, Supermarket) within short walking distance and strictly reject "Nightlife" zones due to noise.
\item \textbf{Families:} They prioritize Space and Safety. They need a specific number of bedrooms to match their family size. They prioritize proximity to Schools and Green Areas and avoid "High Noise" or "Tourist" districts.
\item \textbf{Students:} They are budget-driven but have specific technical needs. Internet and Furnishing are mandatory hard constraints. They will tolerate noise or older building conditions if the price is right. They prioritize proximity to the University or Public Transport.
\item \textbf{Young Couples/Professionals:} They prioritize Lifestyle. They value proximity to Gyms, Restaurants, and Leisure. If they own a car, a Garage becomes a critical requirement due to the Lifestyle urban location.
\end{itemize}

% Atributos iniciales proporcionados
	\textbf{Interviewer:} "Now I will send you a basis of the attributes for clients and properties that I am sure they have to be. Can you use your expert knowledge to suggest some attributes to make it more complete? 

% Property
\begin{enumerate}
\item Monthly price in euros.
\item Location (city district, address, GPS coordinates).
\item Usable floor area in m$^2$.
\item Number of bedrooms and whether they are double or single.
\item Whether the dwelling has a terrace or balcony.
\item Whether the dwelling is rented furnished and/or with appliances.
\item Type of dwelling: flat, duplex, single-family house. For flats or duplexes, the floor level (mezzanine, first, second...).
\item Other features such as: no-pets rule, heating/air conditioning, whether the flat gets sunlight (morning, afternoon, all day), access to a communal pool, parking space included, property with views. 
\end{enumerate}

% Clients
\begin{enumerate}
\item Maximum price they are willing to pay and whether the limit is strict or they could pay more if the offer is worth it.
\item Restrictions regarding the number/size of the bedrooms.
\item Minimum price, below which they believe the offer is too cheap to be adequate.
\item Specific restriction or preference regarding distance to certain services (schools nearby, public transport nearby...).
\item Whether they prefer to use public transport for commuting.
\item Age of the applicants.
\item Type of applicants: couple without children, couple planning to have children soon, family (single-parent, two-parent) with children/elderly dependents (number), group of students (number), individual...
\item Whether they work/study in the city and where the workplace/place of study is located.
\item Whether they own a car."
\end{enumerate}

% Atributos añadidos por el experto
	\textbf{Expert:} To strengthen the system and reduce ambiguity in decision rules, we need additional measurable attributes for both Property and Clients. These enable clearer constraints, preference scoring, and rule branching.
\paragraph{Property – Suggested Additional Attributes}
\begin{itemize}
\item Noise Level Classification: Quiet / Moderate / High. Necessary for Families and Elderly.
\item Accessibility Indicators: Presence of elevator, ramp access, door width for wheelchair. Critical for Elderly.
\item Energy Efficiency Rating: Impacts long-term cost; students and families react strongly to energy bills.
\item Internet Availability and Speed: Mandatory for Students; highly relevant for Couples/Professionals working remotely.
\item Heating Type and Insulation Quality: Relevant in older buildings; impacts comfort and utility expenses.
\item Proximity Metrics: Walking time (not just distance) to public transport, university/schools, supermarkets, pharmacy.
\item Neighborhood Category: Residential / Tourist / Nightlife / Business. Used to match lifestyle vs. noise tolerance.
\item Safety Indicators: Crime level or “perceived safe area” flag. Families care; students tolerate lower.
\item Building Age and Renovation Condition: Students tolerate older; families avoid degraded.
\item Contract Constraints: Minimum rental duration, deposit size. People with strict budgets (students) react strongly.
\item Pets Allowed / Forbidden: Already noted, but must be categorical because it blocks many options.
\end{itemize}

\paragraph{Clients – Suggested Additional Attributes}
\begin{itemize}
\item Noise Tolerance Level: Critical decision boundary between Elderly/Families vs. Students/Professionals.
\item Mobility or Accessibility Needs: Presence of disability or reduced mobility; elevator becomes hard constraint.
\item Internet Requirement: Binary but decisive.
\item Expected Lease Duration: Students short-term; families long-term. Impacts landlord suitability.
\item Work Modality: Remote/hybrid/on-site. Remote workers require strong internet and quiet environment.
\item Lifestyle Priority: Quiet, central/leisure-oriented, green areas, nightlife. Makes rule pruning more accurate.
\item Commute Distance Tolerance: Define acceptable walking/public transport travel time.
\item Car Usage Frequency: Not only ownership; usage defines need for guaranteed parking.
\end{itemize}
These additions allow the rules to be actionable and conflict-resolving instead of vague.

\subparagraph{}
	\textbf{Interviewer:} “Can you suggest some filters that you apply to decide if a Property is good to a certain client?”
	\textbf{Expert:} First, we must apply a hard financial filter before looking at preferences.
\paragraph{Financial Filters}
\begin{itemize}
\item The 40\% Rule: The monthly rent must not exceed 40\% of the household's total monthly income. This is a safety check for solvency.
\item Budget Limit: We respect the client's "Maximum Price," but we should allow a small margin (e.g., +10\%) if the property is "Ideal," unless the client marks their budget as "Strict."
\end{itemize}
Next, we apply structural and capacity filters to guarantee functional suitability:
\paragraph{Structural Filters}
\begin{itemize}
\item Bedroom/Occupancy Consistency: The number and type of bedrooms must align with the household size. A family of four cannot be matched with a single-bedroom flat. Couples planning children should not be placed in a studio.
\item Accessibility Compliance: If any applicant has reduced mobility or is elderly, the property must have either ground-floor access or a functioning elevator. Absence of these eliminates the property immediately.
\item Mandatory Utility Requirements: If the client requires high-speed internet (students, remote workers), or heating/air conditioning (elderly, families in cold/hot climates), properties without these features are discarded.
\item Transportation or Parking Constraint: If the client relies on public transport, the property must be within a reasonable walking radius of a reliable connection. If the client owns a car and parking is required, the property must provide either a garage or a guaranteed parking spot.
\item Neighborhood Compatibility: Noise and security conditions must be aligned with the sensitivity of the client type. Nightlife areas are automatically excluded for elderly or families. Tourist zones are low priority for families but acceptable for students.
\end{itemize}
These filters eliminate structurally incompatible options before any ranking or preference scoring begins.

\paragraph{Relación entre el conocimiento del experto y el código CLIPS:}

\subparagraph{Aplicado}
\begin{enumerate}
\item \textbf{Presupuesto}  
Se solicita precio máximo y si es estricto o flexible.  
Se descartan propiedades que superan el máximo; si es flexible se permite hasta 10\%.
\item \textbf{Dormitorios y espacio}  
Filtrado por número de dormitorios dobles y simples.
\item \textbf{Mascotas}  
Se descartan viviendas donde no se permiten mascotas.
\item \textbf{Coche}  
Atr. \texttt{owns-car}, propiedades con \texttt{Garage}. Eliminación o penalización según cliente.
\item \textbf{Trabajo/estudio}  
Se registran coordenadas de trabajo/estudio.
\item \textbf{Regla del 40\%}  
Se registra ingreso mensual total y se descartan viviendas fuera del presupuesto.
\item \textbf{Accesibilidad}  
Atributos de ascensor y planta; reglas para clientes sensibles.
\item \textbf{Ruido}  
Atributos de ruido recibidos; filtros por tipo de cliente.
\item \textbf{Seguridad}  
Atributo de nivel de seguridad; filtrado según cliente.
\item \textbf{Proximidad a servicios}  
Coordenadas de servicios y propiedades.
\item \textbf{Condiciones climáticas (sol)}  
Atributos de AC, heating y orientación solar.
\end{enumerate}

\subparagraph{No aplicado}
\begin{enumerate}
\item \textbf{Internet}  
Se considera que cada cliente contrata su propio servicio.
\item \textbf{Clima adicional no relacionado con sol}  
Se omiten factores climáticos globales para reducir complejidad del modelo.
\end{enumerate}
\subsubsection{Conceptos y relaciones principales}
A partir del análisis del dominio y de la experiencia en portales inmobiliarios, identificamos los siguientes conceptos clave, que posteriormente se formalizarán en la ontología:

\begin{itemize}
    \item \textbf{Cliente}: persona o grupo que busca vivienda. Se distingue entre:
    \begin{itemize}
        \item \textbf{Individual}: Adulto, Joven, Estudiante, Anciano.
        \item \textbf{Grupo}: Pareja (con o sin hijos previstos, joven o anciana), Familia (con o sin ancianos), Grupo de estudiantes, o por defecto grupo genérico.
    \end{itemize}
    
    \item \textbf{Vivienda}: oferta de alquiler. Incluye subtipos como:
    \begin{itemize}
        \item \textbf{Piso}, \textbf{Dúplex}, \textbf{Ático}, \textbf{Estudio}.
        \item \textbf{Casa individual}, \textbf{Casa pareada}, \textbf{Casa adosada}.
        \item \textbf{Habitación} para alquiler individual.
    \end{itemize}
    
    \item \textbf{Servicio}: elemento urbano que influye en la calidad de vida:
    \begin{itemize}
        \item \textbf{Transporte}: Parada de autobús, metro, tren, tranvía o aparcamiento.
        \item \textbf{Educación}: Colegio, instituto, universidad.
        \item \textbf{Salud}: Clínica, hospital, farmacia.
        \item \textbf{Comercio}: Supermercado, hipermercado, centro comercial, tienda.
        \item \textbf{Ocio}: Parque, piscina, gimnasio, cine, museo, zona de vida nocturna, restaurante, playa, polideportivo/centro deportivo.
    \end{itemize}
    
    \item \textbf{Zona}: área de la ciudad con características homogéneas:
    \begin{itemize}
        \item \textbf{Residencial}, \textbf{Centro} (goeográfico), \textbf{Núcleo urbano} (social/turístico), \textbf{Negocios}, \textbf{Industrial}.
    \end{itemize}
\end{itemize}

\paragraph{Relaciones principales identificadas:}
\begin{itemize}
    \item Una \textbf{Vivienda} \textit{está ubicada en} una \textbf{Zona} (relación \texttt{is\_located\_in\_zone}).
    \item Una \textbf{Vivienda} \textit{está cerca de} uno o más \textbf{Servicios} (relación \texttt{is\_near\_service}).
    \item Un \textbf{Cliente} \textit{tiene preferencias y restricciones} sobre:
    \begin{itemize}
        \item Presupuesto máximo para el alquiler, flexibilidad presupuestaria, precio mínimo sospechoso (\textit{too bargain}).
        \item Número mínimo de dormitorios y baños para la vivienda.
        \item Necesidad de transporte público, posesión de coche.
        \item Ubicación de trabajo/estudio (coordenadas).
        \item Mascotas, ruido tolerado, características deseadas/necesidades (cercanía a ciertos servicios, terraza, ascensor, amueblado, etc.).
    \end{itemize}
    \item Una \textbf{Vivienda} \textit{puede satisfacer o no} dichas preferencias, lo que determina su \textbf{grado de recomendación} (parcialmente adecuada, adecuada, muy recomendable).
\end{itemize}

\subsubsection{Descomposición en subproblemas}
Explicar cómo se divide el problema global en tareas más pequeñas:
\begin{itemize}
    \item Subproblema 1: Cálculo de distancias a servicios para inicializar las viviendas.
    \item Subproblema 2: Captura de preferencias del usuario.
    \item Subproblema 3: Evaluación de viviendas respecto a preferencias.
    \item Subproblema 4: Clasificación y recomendación final.
\end{itemize}

\subsection{Formalización}
\label{subsec:formalizacion}


\subsubsection{Ontología del dominio}
La ontología se ha construido en Protégé siguiendo la metodología de desarrollo de ontologías 101, y está compuesta por 4 conceptos raíz principales, sus jerarquías de subclases, propiedades de objeto y datos, y restricciones de dominio/rango.

\paragraph{Jerarquía de clases}
\begin{itemize}
    \item \textbf{\texttt{Client\_Group}}: representa a los solicitantes. Se divide en:
    \begin{itemize}
        \item \textbf{\texttt{Individual}}: \texttt{Adult}, \texttt{Young}, \texttt{Student}, \texttt{Elderly}.
        \item \textbf{\texttt{Group}}: \texttt{Couple} (\texttt{Elderly\_Couple}, \texttt{Planning\_Kids}, \texttt{Young\_No\_Kids}), \texttt{Family} (\texttt{No\_Elderly}, \texttt{With\_Elderly}), \texttt{Student\_Group}.
    \end{itemize}
    Se ha modelado así para capturar perfiles con necesidades diferenciadas (ej: jóvenes buscan ocio, familias buscan escuelas).
    
    \item \textbf{\texttt{Property}}: representa las viviendas en alquiler. Incluye:
    \begin{itemize}
        \item Tipos urbanos: \texttt{Apartment}, \texttt{Duplex}, \texttt{Penthouse}, \texttt{Studio}, \texttt{Triplex}, \texttt{Room}.
        \item Tipos unifamiliares: \texttt{Detached\_House}, \texttt{Semidetached\_House}, \texttt{Row\_House}, \texttt{Single-family\_House}.
    \end{itemize}
    Se han definido como \textit{disjoint} para evitar inconsistencias.
    
    \item \textbf{\texttt{Service}}: modela los servicios urbanos. Subclases:
    \begin{itemize}
        \item \texttt{Transport} (\texttt{Bus\_stop}, \texttt{Metro\_station}, \texttt{Train\_station}, \texttt{Parking}, \texttt{Clable\_car\_station}).
        \item \texttt{Education} (\texttt{School}, \texttt{High\_School}, \texttt{University}).
        \item \texttt{Healthcare} (\texttt{Clinic}, \texttt{Hospital}, \texttt{Pharmacy}).
        \item \texttt{Shopping} (\texttt{Supermarket}, \texttt{Hipermarket}, \texttt{Mall}, \texttt{Store}).
        \item \texttt{Recreation} (\texttt{Park}, \texttt{Pool}, \texttt{Gym}, \texttt{Beach}, \texttt{Cinema}, \texttt{Museum}, \texttt{Nightlife}, etc.).
    \end{itemize}
    Esta categorización permite evaluar la proximidad a servicios de forma estructurada.
    
    \item \textbf{\texttt{Zone}}: describe zonas de la ciudad:
    \begin{itemize}
        \item \texttt{Residential}, \texttt{Business}, \texttt{Downtown}, \texttt{Industrial}, \texttt{Urban\_core}.
    \end{itemize}
    Cada zona tiene atributos como nivel de ruido y seguridad.
\end{itemize}

\paragraph{Propiedades de objeto}
\begin{itemize}
    \item \texttt{is\_located\_in\_zone}: relaciona una \texttt{Property} con una \texttt{Zone}. Es funcional (cada vivienda está en una sola zona).
    \item \texttt{is\_near\_service}: relaciona una \texttt{Property} con un \texttt{Service}. Permite modelar proximidad a múltiples servicios.
\end{itemize}

\paragraph{Propiedades de datos}
Se han agrupado en tres categorías para facilitar la modularidad:
\begin{itemize}
    \item \texttt{property\_attribute}: atributos de la vivienda (precio, metros², habitaciones, terraza, ascensor, amueblado, etc.).
    \item \texttt{client\_attribute}: atributos del solicitante (edad, presupuesto, preferencias, ubicación trabajo/estudio, etc.).
    \item \texttt{zone\_attribute}: atributos de la zona (nivel de ruido, seguridad).
\end{itemize}
Se han usado tipos de datos específicos (\texttt{boolean}, \texttt{int}, \texttt{float}) y enumerados (ej: \texttt{Sun\_Time}: \texttt{Morning}, \texttt{Afternoon}, \texttt{All\_Day}, \texttt{Never}).

\paragraph{Decisiones de diseño justificadas}
\begin{itemize}
    \item \textbf{Coordenadas enteras}: se usan \texttt{geo\_lat} y \texttt{geo\_long} como enteros (representan metros) para simplificar el cálculo de distancias en CLIPS.
    \item \texttt{floor\_level} solo aplica a \texttt{Apartment}, \texttt{Room} y \texttt{Studio}, no a viviendas unifamiliares.
    \item \texttt{Too\_Bargain}: se incluye como atributo del cliente para detectar precios sospechosamente bajos.
    \item \textit{Disjoint} entre clases: evita que una misma instancia sea, por ejemplo, un \texttt{Apartment} y una \texttt{Detached\_House}.
\end{itemize}

\subsubsection{Metodología de resolución de problemas}
Explicar qué metodología se ha elegido (p. ej., clasificación, razonamiento basado en casos) y cómo los subproblemas identificados encajan en ella.

\subsubsection{Representación en reglas}
Descripción de cómo se traduce el conocimiento en reglas de producción. Estructura general del sistema de reglas (módulos, estrategia de control).

\subsection{Implementación en CLIPS}
\label{subsec:implementacion}

\subsubsection{Estructura del proyecto}
Organización de módulos, templates, hechos iniciales.

\subsubsection{Ejemplo de reglas clave}
Fragmentos de código comentados que ilustren el razonamiento.

\begin{lstlisting}[language=Lisp, caption=Ejemplo de regla en CLIPS]
(defrule evaluar-precio
    ?s <- (solicitante (precio-max ?pmax) (flexible ?flex))
    ?v <- (vivienda (precio ?p) (id ?id))
    (test (<= ?p ?pmax))
    =>
    (assert (candidata (id ?id) (motivo "Dentro de presupuesto"))))
\end{lstlisting}

\subsubsection{Desarrollo incremental}
Descripción de los prototipos desarrollados, evolución desde el primer prototipo funcional hasta la versión final.

% ============================
% TERCERA PARTE: RESULTADOS Y CONCLUSIONES
% ============================
\section{Resultados y validación}
\label{sec:resultados}

\subsection{Juegos de prueba}
Explicación de cómo se seleccionaron los casos: perfiles variados (estudiante, familia, pareja), casos límite, cobertura de funcionalidades.

\subsection{Ejecución de pruebas}
Tabla resumen con al menos 6 casos diferentes, mostrando:
\begin{itemize}
    \item Perfil de entrada.
    \item Viviendas recomendadas (adecuadas, parcialmente adecuadas, muy recomendables).
    \item Criterios incumplidos o características destacadas.
\end{itemize}

\begin{table}[h]
\centering
\caption{Ejemplo de casos de prueba}
\begin{tabular}{p{3cm}|p{3cm}|p{3cm}|p{3cm}}
\toprule
\textbf{Perfil} & \textbf{Vivienda} & \textbf{Grado} & \textbf{Observaciones} \\
\midrule
Estudiante, precio bajo & Atico céntrico & Parcial & Sin terraza \\
Familia con hijos & Dúplex con jardín & Muy recomendable & Cerca de colegio y parque \\
\bottomrule
\end{tabular}
\end{table}

\subsection{Análisis de resultados}
Explicación de por qué el sistema toma ciertas decisiones, ejemplos concretos basados en el conocimiento codificado.

\subsection{Conclusiones}
\label{subsec:conclusiones}

\subsubsection{Logros y dificultades}
Qué se ha conseguido, qué partes fueron más complejas, limitaciones del sistema.

\subsubsection{Trabajo en equipo}
Breve descripción de cómo se organizó el grupo, reuniones, reparto de tareas, uso de la planificación propuesta.

\subsubsection{Posibles mejoras}
Extensiones futuras: integración con datos reales de mapas, más factores de ponderación, interfaz gráfica.

% ============================
% ANEXOS
% ============================
\appendix
\section{Anexo A: Ontología completa}
Gráfico exportado desde Protégé con la jerarquía de clases y propiedades.

\section{Anexo B: Diálogo con modelo de lenguaje}
Si aplica: contexto usado, preguntas más relevantes y respuestas resumidas.

\section{Anexo C: Código fuente completo}
Listado completo del código CLIPS (o enlace al repositorio).

\end{document}
